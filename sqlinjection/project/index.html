<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL Injection Learning Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <style>
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        .animate-slide-in {
            animation: slideIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .tab-btn {
            @apply bg-white text-gray-700 hover:bg-gray-50;
        }

        .tab-btn.active {
            @apply bg-blue-600 text-white;
        }

        .message {
            max-width: 80%;
            padding: 0.75rem;
            border-radius: 0.5rem;
            animation: fadeIn 0.5s ease-in;
        }

        .message.bot {
            background-color: #EBF5FF;
            color: #1E40AF;
        }

        .message.user {
            background-color: #ECFDF5;
            color: #065F46;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-100">
    <!-- Hero Section -->
    <div class="bg-blue-600 text-white py-16 animate-fade-in">
        <div class="container mx-auto px-4 text-center">
            <div class="w-16 h-16 mx-auto mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" />
                </svg>
            </div>
            <h1 class="text-4xl font-bold mb-4">SQL Injection Learning Hub</h1>
            <p class="text-xl opacity-90">Master database security through interactive learning</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <!-- Navigation Tabs -->
        <div class="flex justify-center mb-8 space-x-4">
            <button onclick="setActiveTab('theory')" class="tab-btn active flex items-center space-x-2 px-6 py-3 rounded-lg transition-colors" data-tab="theory">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                    <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                </svg>
                <span>Theory</span>
            </button>
            <button onclick="setActiveTab('chat')" class="tab-btn flex items-center space-x-2 px-6 py-3 rounded-lg transition-colors" data-tab="chat">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                </svg>
                <span>Chat Assistant</span>
            </button>
        </div>

        <!-- Content Area -->
        <div id="content" class="flex justify-center">
            <!-- Theory Section -->
            <div id="theory" class="space-y-8 w-full max-w-4xl animate-slide-in">
                <div class="bg-white rounded-lg shadow-lg p-6 animate-fade-in">
                    <div class="flex items-center space-x-2 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-red-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                            <line x1="12" y1="9" x2="12" y2="13"/>
                            <line x1="12" y1="17" x2="12.01" y2="17"/>
                        </svg>
                        <h2 class="text-2xl font-bold">What is SQL Injection?</h2>
                    </div>
                    <p class="text-gray-700 leading-relaxed">
                        SQL Injection is a critical security vulnerability that occurs when an application fails to properly validate or sanitize user input that is used in SQL queries. Attackers can exploit this vulnerability to manipulate the database, potentially gaining unauthorized access to sensitive data or performing malicious operations.
                    </p>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 animate-fade-in">
                    <div class="flex items-center space-x-2 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-blue-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="4 17 10 11 4 5"/>
                            <line x1="12" y1="19" x2="20" y2="19"/>
                        </svg>
                        <h2 class="text-2xl font-bold">Example Attack</h2>
                    </div>
                    <pre><code class="language-sql">-- Vulnerable Query
$query = "SELECT * FROM users WHERE username = '" + username + "' AND password = '" + password + "'";

-- Attack Input
username: admin' --
password: anything

-- Resulting Query
SELECT * FROM users WHERE username = 'admin' --' AND password = 'anything'</code></pre>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 animate-fade-in">
                    <div class="flex items-center space-x-2 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-green-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/>
                        </svg>
                        <h2 class="text-2xl font-bold">Prevention Techniques</h2>
                    </div>
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                        <li>Use parameterized queries or prepared statements</li>
                        <li>Implement proper input validation and sanitization</li>
                        <li>Apply the principle of least privilege for database users</li>
                        <li>Regular security audits and penetration testing</li>
                        <li>Keep database systems and applications up to date</li>
                        <li>Use Web Application Firewalls (WAF)</li>
                    </ul>
                </div>
            </div>

            <!-- Chat Section -->
            <div id="chat" class="w-full max-w-2xl hidden">
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div id="messages" class="h-[400px] overflow-y-auto p-4 space-y-4"></div>
                    <div class="border-t p-4 bg-gray-50">
                        <div class="flex space-x-2">
                            <input
                                type="text"
                                id="chatInput"
                                placeholder="Ask about SQL injection..."
                                class="flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            >
                            <button
                                onclick="handleSend()"
                                class="p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="22" y1="2" x2="11" y2="13"/>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize syntax highlighting
        hljs.highlightAll();

        // Chat knowledge base
        const sqlInjectionKnowledge = {
            "what is sql injection": "SQL injection is a type of security vulnerability that occurs when an attacker is able to insert malicious SQL code into a query that an application sends to its database. This can result in unauthorized access to data or manipulation of the database.",
            "how to prevent sql injection": "To prevent SQL injection: 1. Use parameterized queries 2. Input validation 3. Escape special characters 4. Use ORMs 5. Implement proper access controls 6. Regular security audits",
            "example of sql injection": "A classic example is entering ' OR '1'='1 as a password in a login form. This might result in a query like: SELECT * FROM users WHERE username='admin' AND password='' OR '1'='1'",
        };

        // Initialize chat with welcome message
        document.addEventListener('DOMContentLoaded', () => {
            addMessage("Hi! Ask me anything about SQL injection!", true);
        });

        // Tab switching functionality
        function setActiveTab(tab) {
            // Update button styles
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.tab === tab) {
                    btn.classList.add('active');
                }
            });

            // Show/hide content
            const theorySection = document.getElementById('theory');
            const chatSection = document.getElementById('chat');

            if (tab === 'theory') {
                theorySection.classList.remove('hidden');
                chatSection.classList.add('hidden');
            } else {
                theorySection.classList.add('hidden');
                chatSection.classList.remove('hidden');
            }
        }

        // Chat functionality
        function addMessage(text, isBot) {
            const messagesDiv = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `flex ${isBot ? 'justify-start' : 'justify-end'}`;

            const messageContent = document.createElement('div');
            messageContent.className = `message ${isBot ? 'bot' : 'user'}`;
            messageContent.textContent = text;

            messageDiv.appendChild(messageContent);
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function handleSend() {
            const input = document.getElementById('chatInput');
            const text = input.value.trim();

            if (!text) return;

            // Add user message
            addMessage(text, false);

            // Find response
            const lowercaseInput = text.toLowerCase();
            let response = "I'm not sure about that. Try asking about what SQL injection is, how to prevent it, or examples of SQL injection.";

            for (const [key, value] of Object.entries(sqlInjectionKnowledge)) {
                if (lowercaseInput.includes(key)) {
                    response = value;
                    break;
                }
            }

            // Add bot response after a short delay
            setTimeout(() => {
                addMessage(response, true);
            }, 500);

            // Clear input
            input.value = '';
        }

        // Handle Enter key in chat input
        document.getElementById('chatInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleSend();
            }
        });
    </script>
</body>
</html>
